<!-- HTML para distribuição estática no GitHub Pages -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Swagger UI</title>
    <link rel="stylesheet" type="text/css" href="/ifsp-seguranca-informacao/dist/swagger-ui.css" />
    <link rel="stylesheet" type="text/css" href="/ifsp-seguranca-informacao/dist/index.css" />
    <link rel="icon" type="image/png" href="/ifsp-seguranca-informacao/dist/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/ifsp-seguranca-informacao/dist/favicon-16x16.png" sizes="16x16" />
  </head>

  <body>
    <div>
      <button id="btn-cesar">Carregar API spec Cifra de Cesar</button>
      <button id="btn-vernam">Carregar API spec Cifra de Vernam</button>
    </div>
    
    <div id="swagger-ui"></div>
    
    <!-- Swagger scripts -->
    <script src="/ifsp-seguranca-informacao/dist/swagger-ui-bundle.js" charset="UTF-8"></script>
    <script src="/ifsp-seguranca-informacao/dist/swagger-ui-standalone-preset.js" charset="UTF-8"></script>
    
    <script>
      function loadSwaggerScript(scriptPath, yamlPath) {
        // Remove script antigo, se houver
        const oldScript = document.getElementById('swagger-script');
        if (oldScript) oldScript.remove();

        // Limpa container do Swagger UI
        const swaggerContainer = document.getElementById('swagger-ui');
        swaggerContainer.innerHTML = '';

        // Define o YAML a ser carregado
        window.yamlToLoad = yamlPath;

        // Cria e adiciona o script do Swagger
        const script = document.createElement('script');
        script.src = scriptPath;
        script.id = 'swagger-script';
        script.charset = 'UTF-8';
        document.body.appendChild(script);
      }

      // Botões
      document.getElementById('btn-cesar').addEventListener('click', () => {
        loadSwaggerScript(
          '/ifsp-seguranca-informacao/dist/swagger-initializer-cesar.js',
          '/ifsp-seguranca-informacao/cifra-cesar-api-spec.yaml'
        );
      });

      document.getElementById('btn-vernam').addEventListener('click', () => {
        loadSwaggerScript(
          '/ifsp-seguranca-informacao/dist/swagger-initializer-vernam.js',
          '/ifsp-seguranca-informacao/cifra-vernam-api-spec.yaml'
        );
      });
    </script>
  </body>
</html>

